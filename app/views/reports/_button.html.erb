<% report ||= locals[:report] %>
<% case locals[:force] || report.status %>
  <% when 'unprocessed' %>
    <%= link_to('Process Report', report_path(report.report_id), class: 'btn btn-default') %>
  <% when 'processing' %>
    <%= link_to('Processing...', report_path(report.report_id), class: 'btn btn-warning', waiting: true) %>
  <% when 'queued' %>
    <%= link_to('Queued...', report_path(report.report_id), class: 'btn btn-default', waiting: true) %>
  <% when 'done' %>
    <%= link_to('View Report', report_path(report.report_id), class: 'btn btn-success') %>
  <% when 'empty' %>
    <%= link_to('No data found', '#', class: 'btn btn-error', disabled: 'disabled') %>
  <% else %>
    <%= link_to('Failed :(', '#', class: 'btn btn-error', disabled: 'disabled') %>
  <% end %>